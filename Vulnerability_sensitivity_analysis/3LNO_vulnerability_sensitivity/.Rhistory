datatable(table_Df_merged_harp_seal_V10_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 26: f_harp_seal_V2_V4
comparison_harp_seal_V2_V4 <- compare_sensitivity_analysis(table_Df_merged_harp_seal_V2_F, table_Df_merged_harp_seal_V4_F, "V2", "V4")
datatable(comparison_harp_seal_V2_V4$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 27: f_harp_seal_V2_V10
comparison_harp_seal_V2_V10 <- compare_sensitivity_analysis(table_Df_merged_harp_seal_V2_F, table_Df_merged_harp_seal_V10_F, "V2", "V10")
datatable(comparison_harp_seal_V2_V10$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 28: second_import
Biomass_Harp_Seal = 0.652*0.4
Biomass_cod = 0.568 + 0.05214892
Biomass_Capelin = 3.5
import_transformation_output_function_fitted("cod", "V4", "F", F_vector = seq(0,0.5, by = 0.05), print = FALSE)
import_transformation_output_function_fitted("cod", "V10", "F", F_vector = seq(0,0.5, by = 0.05), print = FALSE)
import_transformation_output_function_fitted("capelin", "V4", "F", F_vector = seq(0, 0.8, by = 0.05), print = FALSE)
import_transformation_output_function_fitted("capelin", "V10", "F", F_vector = seq(0, 0.8, by = 0.05), print = FALSE)
import_transformation_output_function_fitted("harp_seal", "V4", "F", F_vector = seq(0, 0.22, by = 0.02), print = FALSE)
import_transformation_output_function_fitted("harp_seal", "V10", "F", F_vector = seq(0, 0.22, by = 0.02), print = FALSE)
# Chunk 29: cod_lod_check_V4
Df_merged_fitted_cod_V4_F  <- Df_merged_fitted_cod_V4_F %>%
mutate(across(starts_with("biomass"), as.numeric)) %>%
filter(Group_number %in% c(12, 13)) %>%
mutate(
across(starts_with("biomass"), ~ sum(.)),
Group_number = 46,
Group_name = "Cod"
) %>%
slice(1) %>%
rbind.data.frame(Df_merged_fitted_cod_V4_F) %>%
arrange(Group_number)
LoD_check_plot_approx(
data = Df_merged_fitted_cod_V4_F,
observed_biomass = Biomass_cod,
Fspecies = "Fcod",
species = "Cod",
species_chrc = "cod",
version = "V4",
Group_number_specific = 46
)
datatable(data = Df_LoD_fixed_cod_V4, filter="top",
rownames = FALSE, options = list(pageLength = 5, scrollX=T))
# Chunk 30: cod_lod_check_V10
Df_merged_fitted_cod_V10_F  <- Df_merged_fitted_cod_V10_F %>%
mutate(across(starts_with("biomass"), as.numeric)) %>%
filter(Group_number %in% c(12, 13)) %>%
mutate(
across(starts_with("biomass"), ~ sum(.)),
Group_number = 46,
Group_name = "Cod"
) %>%
slice(1) %>%
rbind.data.frame(Df_merged_fitted_cod_V10_F) %>%
arrange(Group_number)
LoD_check_plot_approx(
data = Df_merged_fitted_cod_V10_F,
observed_biomass = Biomass_cod,
Fspecies = "Fcod",
species = "Cod",
species_chrc = "cod",
version = "V10",
Group_number_specific = 46
)
datatable(data = Df_LoD_fixed_cod_V10, filter="top",
rownames = FALSE, options = list(pageLength = 5, scrollX=T))
# Chunk 31: capelin_lod_check_V4
LoD_check_plot_approx(
data = Df_merged_fitted_capelin_V4_F,
observed_biomass = Biomass_Capelin,
Fspecies = "Fcapelin",
species = "Capelin",
species_chrc = "capelin",
version = "V4",
Group_number_specific = 31
)
# Affichage interactif du DataFrame résultant
datatable(
data = Df_LoD_fixed_capelin_V4,
filter = "top",
rownames = FALSE,
options = list(pageLength = 5, scrollX = TRUE)
)
# Chunk 32: capelin_lod_check_V10
LoD_check_plot_approx(
data = Df_merged_fitted_capelin_V10_F,
observed_biomass = Biomass_Capelin,
Fspecies = "Fcapelin",
species = "Capelin",
species_chrc = "capelin",
version = "V10",
Group_number_specific = 31
)
# Affichage interactif du DataFrame résultant
datatable(
data = Df_LoD_fixed_capelin_V10,
filter = "top",
rownames = FALSE,
options = list(pageLength = 5, scrollX = TRUE)
)
# Chunk 33: seal_lod_check_V4
LoD_check_plot_approx(
data = Df_merged_fitted_harp_seal_V4_F,
observed_biomass = Biomass_Harp_Seal,
Fspecies = "Fseal",
species = "Harp seal",
species_chrc = "harp_seal",
version = "V4",
Group_number_specific = 5
)
datatable(data = Df_LoD_fixed_harp_seal_V4, filter="top",
rownames = FALSE, options = list(pageLength = 5, scrollX=T))
# Chunk 34: seal_lod_check_V10
LoD_check_plot_approx(
data = Df_merged_fitted_harp_seal_V10_F,
observed_biomass = Biomass_Harp_Seal,
Fspecies = "Fseal",
species = "Harp seal",
species_chrc = "harp_seal",
version = "V10",
Group_number_specific = 5
)
datatable(data = Df_LoD_fixed_harp_seal_V10, filter="top",
rownames = FALSE, options = list(pageLength = 5, scrollX=T))
# Chunk 35: fix_mortality_value
F_Harp_seal_mortality = 0.02684049
F_Cod_mortality = 0.0317992
F_Capelin_mortality = 0.0055428
# Chunk 36: cod_reference
datatable(table_Df_merged_cod_V2_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 37: cod_lod_new_V4
simulation_generate_function(
simulation_names = paste0("new_Fcod_", Df_LoD_fixed_cod_V4 %>%
filter(Fixed_LoD %in% c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99)) %>%
select(F_mortality_interpolated) %>%
unlist()),
Weight = 1,
Group_no = 12,
Type = 4,
time_step_start = 1,
nb_time_steps = 100,
fill_value_min = F_Cod_mortality,
fill_value_max = Df_LoD_fixed_cod_V4 %>%
filter(Fixed_LoD %in% c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99)) %>%
select(F_mortality_interpolated) %>%
unlist(),
output_file = here("Simulation_input", "Cod_input_V4_simulation.csv"))
import_transformation_output_function_new("cod", "V4", "F")
table_Df_merged_new_cod_V4_F <- calculate_impact_summary(
LoD_rename = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99),
F_data = Df_merged_new_cod_V4_F,
species_unselect = c(12,13),
species = "Cod",
description = "number"
)
datatable(table_Df_merged_new_cod_V4_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 38: cod_lod_new_V10
simulation_generate_function(
simulation_names = paste0("new_Fcod_", Df_LoD_fixed_cod_V10 %>%
filter(Fixed_LoD %in% c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99)) %>%
select(F_mortality_interpolated) %>%
unlist()),
Weight = 1,
Group_no = 12,
Type = 4,
time_step_start = 1,
nb_time_steps = 100,
fill_value_min = F_Cod_mortality,
fill_value_max = Df_LoD_fixed_cod_V10 %>%
filter(Fixed_LoD %in% c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99)) %>%
select(F_mortality_interpolated) %>%
unlist(),
output_file = here("Simulation_input", "Cod_input_V10_simulation.csv"))
import_transformation_output_function_new("cod", "V10", "F")
table_Df_merged_new_cod_V10_F <- calculate_impact_summary(
LoD_rename = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99),
F_data = Df_merged_new_cod_V10_F,
species_unselect = c(12,13),
species = "Cod",
description = "number"
)
datatable(table_Df_merged_new_cod_V10_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 39: cod_new_V2_V4
comparison_new_fig_cod_V2_V4 <- compare_sensitivity(Df_merged_cod_V2_F, Df_merged_new_cod_V4_F)
plot_simulation_comparison(comparison_new_fig_cod_V2_V4, "LoD", 11, " F Cod Simulation: harp seal scenario V=2 vs V=4", group_name_key, sp_remove = c("Atlantic cod greater than 35cm", "Atlantic cod less than 35cm"),
legend_labels = paste0("LoD ", c(0,10,20,30,40,50,60,70,80,90,99)))
datatable(comparison_new_fig_cod_V2_V4, filter = "top", rownames = FALSE, options = list(pageLength = 5,  scrollX=T))
comparison_new_cod_V2_V4 <- compare_sensitivity_analysis(table_Df_merged_cod_V2_F, table_Df_merged_new_cod_V4_F, "V2", "V4")
datatable(comparison_new_cod_V2_V4$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 40: cod_new_V2_V10
comparison_new_fig_cod_V2_V10 <- compare_sensitivity(Df_merged_cod_V2_F, Df_merged_new_cod_V10_F)
plot_simulation_comparison(comparison_new_fig_cod_V2_V10, "LoD", 11, " F Cod Simulation: harp seal scenario V=2 vs V=10", group_name_key, sp_remove = c("Atlantic cod greater than 35cm", "Atlantic cod less than 35cm"),
legend_labels = paste0("LoD ", c(0,10,20,30,40,50,60,70,80,90,99)))
datatable(comparison_new_fig_cod_V2_V10, filter = "top", rownames = FALSE, options = list(pageLength = 5,  scrollX=T))
comparison_new_cod_V2_V10 <- compare_sensitivity_analysis(table_Df_merged_cod_V2_F, table_Df_merged_new_cod_V10_F, "V2", "V10")
datatable(comparison_new_cod_V2_V10$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 41: capelin_reference
datatable(table_Df_merged_capelin_V2_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 42: capelin_lod_new_V4
simulation_generate_function(
simulation_names = paste0("new_Fcapelin_", Df_LoD_fixed_capelin_V4 %>%
filter(Fixed_LoD %in% c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99)) %>%
select(F_mortality_interpolated) %>%
unlist()),
Weight = 1,
Group_no = 31,
Type = 4,
time_step_start = 1,
nb_time_steps = 100,
fill_value_min = F_Capelin_mortality,
fill_value_max = Df_LoD_fixed_capelin_V4 %>%
filter(Fixed_LoD %in% c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99)) %>%
select(F_mortality_interpolated) %>%
unlist(),
output_file = here("Simulation_input", "Capelin_input_V4_simulation.csv"))
import_transformation_output_function_new("capelin", "V4", "F")
table_Df_merged_new_capelin_V4_F <- calculate_impact_summary(
LoD_rename = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99),
F_data = Df_merged_new_capelin_V4_F,
species_unselect = c(31),
species = "capelin",
description = "number"
)
datatable(table_Df_merged_new_capelin_V4_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 43: capelin_lod_new_V10
simulation_generate_function(
simulation_names = paste0("new_Fcapelin_", Df_LoD_fixed_capelin_V10 %>%
filter(Fixed_LoD %in% c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99)) %>%
select(F_mortality_interpolated) %>%
unlist()),
Weight = 1,
Group_no = 31,
Type = 4,
time_step_start = 1,
nb_time_steps = 100,
fill_value_min = F_Capelin_mortality,
fill_value_max = Df_LoD_fixed_capelin_V10 %>%
filter(Fixed_LoD %in% c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99)) %>%
select(F_mortality_interpolated) %>%
unlist(),
output_file = here("Simulation_input", "Capelin_input_V10_simulation.csv"))
import_transformation_output_function_new("capelin", "V10", "F")
table_Df_merged_new_capelin_V10_F <- calculate_impact_summary(
LoD_rename = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99),
F_data = Df_merged_new_capelin_V10_F,
species_unselect = c(31),
species = "capelin",
description = "number"
)
datatable(table_Df_merged_new_capelin_V10_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 44: capelin_new_V2_V4
comparison_new_fig_capelin_V2_V4 <- compare_sensitivity(Df_merged_capelin_V2_F, Df_merged_new_capelin_V4_F)
plot_simulation_comparison(comparison_new_fig_capelin_V2_V4, "LoD", 11, " F Capelin Simulation: harp seal scenario V=2 vs V=4", group_name_key, sp_remove = c("Capelin"),
legend_labels = paste0("LoD ", c(0,10,20,30,40,50,60,70,80,90,99)))
datatable(comparison_new_fig_capelin_V2_V4, filter = "top", rownames = FALSE, options = list(pageLength = 5,  scrollX=T))
comparison_new_capelin_V2_V4 <- compare_sensitivity_analysis(table_Df_merged_capelin_V2_F, table_Df_merged_new_capelin_V4_F, "V2", "V4")
datatable(comparison_new_capelin_V2_V4$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 45: capelin_new_V2_V10
comparison_new_fig_capelin_V2_V10 <- compare_sensitivity(Df_merged_capelin_V2_F, Df_merged_new_capelin_V10_F)
plot_simulation_comparison(comparison_new_fig_capelin_V2_V10, "LoD", 11, " F Capelin Simulation: harp seal scenario V=2 vs V=10", group_name_key, sp_remove = c("Capelin"),
legend_labels = paste0("LoD ", c(0,10,20,30,40,50,60,70,80,90,99)))
datatable(comparison_new_fig_capelin_V2_V10, filter = "top", rownames = FALSE, options = list(pageLength = 5,  scrollX=T))
comparison_new_capelin_V2_V10 <- compare_sensitivity_analysis(table_Df_merged_capelin_V2_F, table_Df_merged_new_capelin_V10_F, "V2", "V10")
datatable(comparison_new_capelin_V2_V10$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 46: seal_reference
datatable(table_Df_merged_harp_seal_V2_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 47: seal_new_V4
simulation_generate_function(
simulation_names = paste0("new_Fseal_", Df_LoD_fixed_harp_seal_V4 %>%
filter(Fixed_LoD %in% c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99)) %>%
select(F_mortality_interpolated) %>%
unlist()),
Weight = 1,
Group_no = 5,
Type = 4,
time_step_start = 1,
nb_time_steps = 100,
fill_value_min = F_Harp_seal_mortality,
fill_value_max = Df_LoD_fixed_harp_seal_V4 %>%
filter(Fixed_LoD %in% c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99)) %>%
select(F_mortality_interpolated) %>%
unlist(),
output_file = here("Simulation_input", "Harp_seal_input_V4_simulation.csv"))
import_transformation_output_function_new("harp_seal", "V4", "F")
table_Df_merged_new_harp_seal_V4_F <- calculate_impact_summary(
LoD_rename = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99),
F_data = Df_merged_new_harp_seal_V4_F,
species_unselect = c(5),
species = "harp_seal",
description = "number"
)
datatable(table_Df_merged_new_harp_seal_V4_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 48: seal_new_V10
simulation_generate_function(
simulation_names = paste0("new_Fseal_", Df_LoD_fixed_harp_seal_V10 %>%
filter(Fixed_LoD %in% c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99)) %>%
select(F_mortality_interpolated) %>%
unlist()),
Weight = 1,
Group_no = 5,
Type = 4,
time_step_start = 1,
nb_time_steps = 100,
fill_value_min = F_Harp_seal_mortality,
fill_value_max = Df_LoD_fixed_harp_seal_V10 %>%
filter(Fixed_LoD %in% c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99)) %>%
select(F_mortality_interpolated) %>%
unlist(),
output_file = here("Simulation_input", "Harp_seal_input_V10_simulation.csv"))
import_transformation_output_function_new("harp_seal", "V10", "F")
table_Df_merged_new_harp_seal_V10_F <- calculate_impact_summary(
LoD_rename = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 99),
F_data = Df_merged_new_harp_seal_V10_F,
species_unselect = c(5),
species = "harp_seal",
description = "number"
)
datatable(table_Df_merged_new_harp_seal_V10_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 49: seal_new_V2_V4
comparison_new_fig_harp_seal_V2_V4 <- compare_sensitivity(Df_merged_harp_seal_V2_F, Df_merged_new_harp_seal_V4_F)
plot_simulation_comparison(comparison_new_fig_harp_seal_V2_V4, "LoD", 11, " F harp seal Simulation: harp seal scenario V=2 vs V=4", group_name_key, sp_remove = c("Seal harp"),
legend_labels = paste0("LoD ", c(0,10,20,30,40,50,60,70,80,90,99)))
datatable(comparison_new_fig_harp_seal_V2_V4, filter = "top", rownames = FALSE, options = list(pageLength = 5,  scrollX=T))
comparison_new_harp_seal_V2_V4 <- compare_sensitivity_analysis(table_Df_merged_harp_seal_V2_F, table_Df_merged_new_harp_seal_V4_F, "V2", "V4")
datatable(comparison_new_harp_seal_V2_V4$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 50: seal_new_V2_V10
comparison_new_fig_harp_seal_V2_V10 <- compare_sensitivity(Df_merged_harp_seal_V2_F, Df_merged_new_harp_seal_V10_F)
plot_simulation_comparison(comparison_new_fig_harp_seal_V2_V10, "LoD", 11, " F harp seal Simulation: harp seal scenario V=2 vs V=10", group_name_key, sp_remove = c("Seal harp"),
legend_labels = paste0("LoD ", c(0,10,20,30,40,50,60,70,80,90,99)))
datatable(comparison_new_fig_harp_seal_V2_V4, filter = "top", rownames = FALSE, options = list(pageLength = 5,  scrollX=T))
comparison_new_harp_seal_V2_V10 <- compare_sensitivity_analysis(table_Df_merged_harp_seal_V2_F, table_Df_merged_new_harp_seal_V10_F, "V2", "V10")
datatable(comparison_new_harp_seal_V2_V10$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 51: cod_summary
datatable(table_Df_merged_cod_V2_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Reference table (V=2)")
datatable(comparison_cod_V2_V4$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Comparison table between V=2 and V=4")
#datatable(comparison_cod_V2_V10, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
datatable(comparison_cod_V2_V4$Global_species_changes, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Addition or deletion of new species")
write_xlsx(table_Df_merged_cod_V2_F, here("results_tables", "reference_table_cod_V2.xlsx"))
write_xlsx(comparison_cod_V2_V4$Comparison_by_cell, here("results_tables", "comparison_cod_V2_V4_1st.xlsx"))
write_xlsx(comparison_cod_V2_V4$Global_species_changes, here("results_tables", "species_change_cod_V2_V4_1st.xlsx"))
# Chunk 52: capelin_summary
datatable(table_Df_merged_capelin_V2_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Reference table (V=2)")
datatable(comparison_capelin_V2_V4$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Comparison table between V=2 and V=4")
#datatable(comparison_capelin_V2_V10, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
datatable(comparison_capelin_V2_V4$Global_species_changes, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Addition or deletion of new species")
write_xlsx(table_Df_merged_capelin_V2_F, here("results_tables", "reference_table_capelin_V2.xlsx"))
write_xlsx(comparison_capelin_V2_V4$Comparison_by_cell, here("results_tables", "comparison_capelin_V2_V4_1st.xlsx"))
write_xlsx(comparison_capelin_V2_V4$Global_species_changes, here("results_tables", "species_change_capelin_V2_V4_1st.xlsx"))
# Chunk 53: seal_summary
datatable(table_Df_merged_harp_seal_V2_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Reference table (V=2)")
datatable(comparison_harp_seal_V2_V4$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Comparison table between V=2 and V=4")
#datatable(comparison_harp_seal_V2_V10, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
datatable(comparison_harp_seal_V2_V4$Global_species_changes, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Addition or deletion of new species")
write_xlsx(table_Df_merged_harp_seal_V2_F, here("results_tables", "reference_table_harp_seal_V2.xlsx"))
write_xlsx(comparison_harp_seal_V2_V4$Comparison_by_cell, here("results_tables", "comparison_harp_seal_V2_V4_1st.xlsx"))
write_xlsx(comparison_harp_seal_V2_V4$Global_species_changes, here("results_tables", "species_change_harp_seal_V2_V4_1st.xlsx"))
# Chunk 54: cod_summary_2
datatable(table_Df_merged_cod_V2_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Reference table (V=2)")
datatable(comparison_new_cod_V2_V4$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Comparison table between V=2 and V=4")
#datatable(comparison_new_cod_V2_V10, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
datatable(comparison_new_cod_V2_V4$Global_species_changes, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Addition or deletion of new species")
write_xlsx(comparison_new_cod_V2_V4$Comparison_by_cell, here("results_tables", "comparison_cod_V2_V4_2nd.xlsx"))
write_xlsx(comparison_new_cod_V2_V4$Global_species_changes, here("results_tables", "species_change_cod_V2_V4_2nd.xlsx"))
# Chunk 55: capelin_summary_2
datatable(table_Df_merged_capelin_V2_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Reference table (V=2)")
datatable(comparison_new_capelin_V2_V4$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Comparison table between V=2 and V=4")
#datatable(comparison_new_capelin_V2_V10, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
datatable(comparison_new_capelin_V2_V4$Global_species_changes, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Addition or deletion of new species")
write_xlsx(comparison_new_capelin_V2_V4$Comparison_by_cell, here("results_tables", "comparison_capelin_V2_V4_2nd.xlsx"))
write_xlsx(comparison_new_capelin_V2_V4$Global_species_changes, here("results_tables", "species_change_capelin_V2_V4_2nd.xlsx"))
# Chunk 56: seal_summary_2
datatable(table_Df_merged_harp_seal_V2_F, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Reference table (V=2)")
datatable(comparison_new_harp_seal_V2_V4$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Comparison table between V=2 and V=4")
#datatable(comparison_new_harp_seal_V2_V10, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
datatable(comparison_new_harp_seal_V2_V4$Global_species_changes, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE),
caption = "Addition or deletion of new species")
write_xlsx(comparison_new_harp_seal_V2_V4$Comparison_by_cell, here("results_tables", "comparison_harp_seal_V2_V4_2nd.xlsx"))
write_xlsx(comparison_new_harp_seal_V2_V4$Global_species_changes, here("results_tables", "species_change_harp_seal_V2_V4_2nd.xlsx"))
# Chunk 57: species_changes_capelin
Capelin_change <- c(13)
short_list <- group_name_key %>% filter(Group_number %in% c(Capelin_change))
print(short_list)
# Chunk 58: species_changes_seal
Harp_seal_change <- c(25, 24)
short_list <- group_name_key %>% filter(Group_number %in% c(Harp_seal_change))
print(short_list)
# Chunk 59: cod_B_2_4
comparison_cod_B_2_4 <- compare_sensitivity(Df_merged_cod_V2_B, Df_merged_cod_V4_B)
plot_simulation_comparison(comparison_cod_B_2_4, "LoR", 12, "B Cod Simulation: harp seal scenario V=2 vs V=4", group_name_key, sp_remove = c("Atlantic cod greater than 35cm", "Atlantic cod less than 35cm"),
legend_labels = paste0("LoR ", c(1,10,"obs", 20,30,40,50,60, 70,80,90,100)))
datatable(comparison_cod_B_2_4, filter="top", rownames = FALSE, options = list(pageLength = 5, scrollX=T))
# Chunk 60: cod_B_2_10
comparison_cod_B_2_10 <- compare_sensitivity(Df_merged_cod_V2_B, Df_merged_cod_V10_B)
plot_simulation_comparison(comparison_cod_B_2_10, "LoR", 12, "B Cod Simulation: harp seal scenario V=2 vs V=10", group_name_key, sp_remove = c("Atlantic cod greater than 35cm", "Atlantic cod less than 35cm"),
legend_labels = paste0("LoR ", c(1,10,"obs", 20,30,40,50,60, 70,80,90,100)))
datatable(comparison_cod_B_2_10, filter="top", rownames = FALSE, options = list(pageLength = 5, scrollX=T))
# Chunk 61: capelin_B_2_4
comparison_capelin_B_2_4 <- compare_sensitivity(Df_merged_capelin_V2_B, Df_merged_capelin_V4_B)
plot_simulation_comparison(comparison_capelin_B_2_4, "LoR", 12, "B Capelin Simulation: harp seal scenario V=2 vs V=4", group_name_key, sp_remove = c("Capelin"),
legend_labels = paste0("LoR ", c(1,10,20,"obs", 30,40,50,60, 70,80,90,100)))
datatable(comparison_capelin_B_2_4, filter="top", rownames = FALSE, options = list(pageLength = 5, scrollX=T))
# Chunk 62: capelin_B_2_10
comparison_capelin_B_2_10 <- compare_sensitivity(Df_merged_capelin_V2_B, Df_merged_capelin_V10_B)
plot_simulation_comparison(comparison_capelin_B_2_10, "LoR", 12, "Capelin Simulation: B scenario V=2 vs V=10", group_name_key, sp_remove = c("Capelin"),
legend_labels = paste0("LoR ", c(1,10,20,"obs", 30,40,50,60, 70,80,90,100)))
datatable(comparison_capelin_B_2_10, filter="top", rownames = FALSE, options = list(pageLength = 5, scrollX=T))
# Chunk 63: b_cod_defaut
table_Df_merged_cod_V2_LoR <- calculate_impact_summary_LoR(
LoR_rename = c(1, 10, "obs", 20, 30, 40, 50, 60, 70, 80, 90, 100),
F_data = Df_merged_cod_V2_B,
species_unselect = c(12, 13),
LoR_obs_position = "LoR_20",
species = "Cod",
description = "number"
)
datatable(table_Df_merged_cod_V2_LoR, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
write_xlsx(table_Df_merged_cod_V2_LoR, here("results_tables", "reference_table_cod_V2_LoR.xlsx"))
# Chunk 64: b_cod_V4
table_Df_merged_cod_V4_LoR <- calculate_impact_summary_LoR(
LoR_rename = c(1, 10,  "obs", 20, 30, 40, 50, 60, 70, 80, 90, 100),
F_data = Df_merged_cod_V2_B,
species_unselect = c(12, 13),
LoR_obs_position = "LoR_20",
species = "Cod",
description = "number"
)
datatable(table_Df_merged_cod_V4_LoR, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 65: b_cod_V10
table_Df_merged_cod_V10_LoR <- calculate_impact_summary_LoR(
LoR_rename = c(1, 10, "obs", 20, 30, 40, 50, 60, 70, 80, 90, 100),
F_data = Df_merged_cod_V10_B,
species_unselect = c(12, 13),
LoR_obs_position = "LoR_20",
species = "Cod",
description = "number"
)
datatable(table_Df_merged_cod_V10_LoR, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 66: b_cod_V2_V4
comparison_cod_V2_V4_LoR <- compare_sensitivity_analysis_LoR(table_Df_merged_cod_V2_LoR, table_Df_merged_cod_V4_LoR, "V2", "V4")
datatable(comparison_cod_V2_V4_LoR$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
datatable(comparison_cod_V2_V4_LoR$Global_species_changes, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
write_xlsx(comparison_cod_V2_V4_LoR$Comparison_by_cell, here("results_tables", "comparison_cod_V2_V4_LoR.xlsx"))
write_xlsx(comparison_cod_V2_V4_LoR$Global_species_changes, here("results_tables", "species_change_cod_V2_V4_LoR.xlsx"))
# Chunk 67: b_cod_V2_V10
comparison_cod_V2_V10_LoR <- compare_sensitivity_analysis_LoR(table_Df_merged_cod_V2_LoR, table_Df_merged_cod_V10_LoR, "V2", "V10")
datatable(comparison_cod_V2_V10_LoR$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
datatable(comparison_cod_V2_V10_LoR$Global_species_changes, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 68: b_capelin_defaut
# Test avec tes données corrigées
table_Df_merged_capelin_V2_LoR <- calculate_impact_summary_LoR(
LoR_rename = c(1, 10, 20, "obs", 30, 40, 50, 60, 70, 80, 90, 100),
F_data = Df_merged_capelin_V2_B,
species_unselect = c(31),
LoR_obs_position = "LoR_30",
species = "capelin",
description = "number"
)
# Affichage interactif
datatable(table_Df_merged_capelin_V2_LoR, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
write_xlsx(table_Df_merged_capelin_V2_LoR, here("results_tables", "reference_table_capelin_V2_LoR.xlsx"))
# Chunk 69: b_capelin_V4
# Test avec tes données corrigées
table_Df_merged_capelin_V4_LoR <- calculate_impact_summary_LoR(
LoR_rename = c(1, 10, 20, "obs", 30, 40, 50, 60, 70, 80, 90, 100),
F_data = Df_merged_capelin_V4_B,
species_unselect = c(31),
LoR_obs_position = "LoR_30",
species = "capelin",
description = "number"
)
# Affichage interactif
datatable(table_Df_merged_capelin_V4_LoR, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 70: b_capelin_V10
# Test avec tes données corrigées
table_Df_merged_capelin_V10_LoR <- calculate_impact_summary_LoR(
LoR_rename = c(1, 10, 20, "obs", 30, 40, 50, 60, 70, 80, 90, 100),
F_data = Df_merged_capelin_V10_B,
species_unselect = c(31),
LoR_obs_position = "LoR_30",
species = "capelin",
description = "number"
)
# Affichage interactif
datatable(table_Df_merged_capelin_V10_LoR, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 71: b_capelin_V2_V4
comparison_capelin_V2_V4_LoR <- compare_sensitivity_analysis_LoR(table_Df_merged_capelin_V2_LoR, table_Df_merged_capelin_V4_LoR, "V2", "V4")
datatable(comparison_capelin_V2_V4_LoR$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
datatable(comparison_capelin_V2_V4_LoR$Global_species_changes, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
write_xlsx(comparison_capelin_V2_V4_LoR$Comparison_by_cell, here("results_tables", "comparison_capelin_V2_V4_LoR.xlsx"))
write_xlsx(comparison_capelin_V2_V4_LoR$Global_species_changes, here("results_tables", "species_change_capelin_V2_V4_LoR.xlsx"))
# Chunk 72: b_capelin_V2_V10
comparison_capelin_V2_V10_LoR <- compare_sensitivity_analysis_LoR(table_Df_merged_capelin_V2_LoR, table_Df_merged_capelin_V10_LoR, "V2", "V10")
datatable(comparison_capelin_V2_V10_LoR$Comparison_by_cell, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
datatable(comparison_capelin_V2_V10_LoR$Global_species_changes, filter = "top", rownames = FALSE, options = list(pageLength = 12, scrollX = TRUE))
# Chunk 73: species_changes_LoR_capelion
Capelin_change <- c(28, 35)
short_list <- group_name_key %>% filter(Group_number %in% c(Capelin_change))
print(short_list)
